<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>FC Alameda | Gestión Total</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:Arial;background:#eef2f7;color:#333}
header{background:linear-gradient(135deg,#0b5ed7,#083c8c);color:white;padding:25px;text-align:center}
nav{background:#083c8c;display:flex;flex-wrap:wrap;justify-content:center}
nav button{background:none;border:none;color:white;padding:12px 16px;font-size:14px;font-weight:bold;cursor:pointer}
nav button:hover{background:#0b5ed7}
section{display:none;padding:25px;max-width:1300px;margin:auto}
section.active{display:block}
h2{text-align:center;color:#0b5ed7}
table{width:100%;border-collapse:collapse;background:white;margin-top:15px;box-shadow:0 2px 8px rgba(0,0,0,0.1)}
th,td{border:1px solid #ccc;padding:8px;text-align:center}
th{background:#e9ecef}
form{background:white;padding:15px;margin-top:20px;box-shadow:0 2px 8px rgba(0,0,0,0.1)}
input,select,button{padding:8px;margin:5px}
button{background:#0b5ed7;color:white;border:none;cursor:pointer}
button:hover{background:#083c8c}
img{width:50px;height:50px;object-fit:cover;border-radius:6px}
.card{background:white;padding:15px;margin:10px;box-shadow:0 2px 8px rgba(0,0,0,0.1)}
.flex{display:flex;flex-wrap:wrap;justify-content:center}
footer{text-align:center;background:#083c8c;color:white;padding:15px;margin-top:30px}
</style>
</head>
<body>
<header>
<h1>FC Alameda</h1>
<p>Aplicación local de gestión total del club</p>
</header>
<nav>
<button onclick="mostrar('resumen')">Resumen</button>
<button onclick="mostrar('jugadores')">Jugadores</button>
<button onclick="mostrar('partidos')">Partidos</button>
<button onclick="mostrar('trofeos')">Trofeos</button>
<button onclick="mostrar('socios')">Socios</button>
<button onclick="mostrar('patro')">Patrocinadores</button>
<button onclick="mostrar('entradas')">Entradas</button>
<button onclick="mostrar('estadio')">Estadio</button>
<button onclick="mostrar('merch')">Merchandising</button>
</nav>

<section id="resumen" class="active">
<h2>Resumen económico</h2>
<div class="flex">
<div class="card"><h3>Presupuesto</h3><p id="presupuesto">0 €</p></div>
<div class="card"><h3>Gasto salarios</h3><p id="gastos">0 €</p></div>
<div class="card"><h3>Balance</h3><p id="balance">0 €</p></div>
</div>
<form onsubmit="setPresupuesto(event)">
<input id="pTotal" type="number" placeholder="Presupuesto total" required>
<button>Guardar presupuesto</button>
</form>
</section>

<section id="jugadores"><h2>Jugadores</h2><table id="tablaJugadores"></table><form onsubmit="addJugador(event)"><input id="jn" placeholder="Nombre" required><input id="jp" placeholder="Posición" required><input id="js" type="number" placeholder="Salario" required><input id="jf" type="file" accept="image/*"><button>Añadir</button></form></section>

<section id="partidos"><h2>Partidos</h2><table id="tablaPartidos"></table><form onsubmit="addPartido(event)"><input type="date" id="pf" required><input id="pr" placeholder="Rival" required><select id="pl"><option>Local</option><option>Visitante</option></select><button>Añadir</button></form></section>

<section id="trofeos"><h2>Trofeos</h2><table id="tablaTrofeos"></table><form onsubmit="addTrofeo(event)"><input id="ta" placeholder="Año" required><input id="tc" placeholder="Competición" required><button>Añadir</button></form></section>

<section id="socios"><h2>Socios</h2><table id="tablaSocios"></table><form onsubmit="addSocio(event)"><input id="sn" placeholder="Nombre" required><input id="sc" type="number" placeholder="Cuota" required><button>Añadir</button></form></section>

<section id="patro"><h2>Patrocinadores</h2><table id="tablaPatro"></table><form onsubmit="addPatro(event)"><input id="pn" placeholder="Empresa" required><input id="pa" type="number" placeholder="Aportación" required><button>Añadir</button></form></section>

<section id="entradas"><h2>Entradas</h2><table id="tablaEntradas"></table><form onsubmit="addEntrada(event)"><input id="en" placeholder="Partido" required><input id="ep" type="number" placeholder="Precio" required><input id="ev" type="number" placeholder="Vendidas" required><button>Añadir</button></form></section>

<section id="estadio"><h2>Estadio</h2><form onsubmit="saveEstadio(event)"><input id="esn" placeholder="Nombre estadio"><input id="esc" placeholder="Ciudad"><input id="escap" type="number" placeholder="Capacidad"><button>Guardar</button></form><div id="infoEstadio"></div></section>

<section id="merch"><h2>Merchandising</h2><table id="tablaMerch"></table><form onsubmit="addMerch(event)"><input id="mn" placeholder="Producto" required><input id="mp" type="number" placeholder="Precio" required><input id="ms" type="number" placeholder="Stock" required><input id="mf" type="file" accept="image/*"><button>Añadir</button></form></section>

<script>
let jugadores=JSON.parse(localStorage.getItem('jugadores'))||[];
let partidos=JSON.parse(localStorage.getItem('partidos'))||[];
let trofeos=JSON.parse(localStorage.getItem('trofeos'))||[];
let socios=JSON.parse(localStorage.getItem('socios'))||[];
let patro=JSON.parse(localStorage.getItem('patro'))||[];
let entradas=JSON.parse(localStorage.getItem('entradas'))||[];
let merch=JSON.parse(localStorage.getItem('merch'))||[];
let estadio=JSON.parse(localStorage.getItem('estadio'))||{};
let presupuesto=Number(localStorage.getItem('presupuesto'))||0;

function mostrar(id){document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));document.getElementById(id).classList.add('active')}
function img64(file,cb){if(!file){cb('');return;}let r=new FileReader();r.onload=e=>cb(e.target.result);r.readAsDataURL(file)}

function render(){
 tablaJugadores.innerHTML='<tr><th>Foto</th><th>Nombre</th><th>Posición</th><th>Salario</th><th></th></tr>'+jugadores.map((j,i)=>`<tr><td>${j.f?'<img src="'+j.f+'">':''}</td><td contenteditable onblur="jugadores[${i}].n=this.innerText;render()">${j.n}</td><td contenteditable onblur="jugadores[${i}].p=this.innerText;render()">${j.p}</td><td contenteditable onblur="jugadores[${i}].s=this.innerText;render()">${j.s}</td><td><button onclick="jugadores.splice(${i},1);render()">X</button></td></tr>`).join('');
 tablaPartidos.innerHTML='<tr><th>Fecha</th><th>Rival</th><th>Lugar</th><th></th></tr>'+partidos.map((p,i)=>`<tr><td>${p.f}</td><td contenteditable onblur="partidos[${i}].r=this.innerText;render()">${p.r}</td><td>${p.l}</td><td><button onclick="partidos.splice(${i},1);render()">X</button></td></tr>`).join('');
 tablaTrofeos.innerHTML='<tr><th>Año</th><th>Competición</th><th></th></tr>'+trofeos.map((t,i)=>`<tr><td>${t.a}</td><td contenteditable onblur="trofeos[${i}].c=this.innerText;render()">${t.c}</td><td><button onclick="trofeos.splice(${i},1);render()">X</button></td></tr>`).join('');
 tablaSocios.innerHTML='<tr><th>Nombre</th><th>Cuota</th><th></th></tr>'+socios.map((s,i)=>`<tr><td contenteditable onblur="socios[${i}].n=this.innerText;render()">${s.n}</td><td contenteditable onblur="socios[${i}].c=this.innerText;render()">${s.c}</td><td><button onclick="socios.splice(${i},1);render()">X</button></td></tr>`).join('');
 tablaPatro.innerHTML='<tr><th>Empresa</th><th>Aportación</th><th></th></tr>'+patro.map((p,i)=>`<tr><td contenteditable onblur="patro[${i}].n=this.innerText;render()">${p.n}</td><td contenteditable onblur="patro[${i}].a=this.innerText;render()">${p.a}</td><td><button onclick="patro.splice(${i},1);render()">X</button></td></tr>`).join('');
 tablaEntradas.innerHTML='<tr><th>Partido</th><th>Precio</th><th>Vendidas</th><th></th></tr>'+entradas.map((e,i)=>`<tr><td contenteditable onblur="entradas[${i}].n=this.innerText;render()">${e.n}</td><td contenteditable onblur="entradas[${i}].p=this.innerText;render()">${e.p}</td><td contenteditable onblur="entradas[${i}].v=this.innerText;render()">${e.v}</td><td><button onclick="entradas.splice(${i},1);render()">X</button></td></tr>`).join('');
 tablaMerch.innerHTML='<tr><th>Foto</th><th>Producto</th><th>Precio</th><th>Stock</th><th></th></tr>'+merch.map((m,i)=>`<tr><td>${m.f?'<img src="'+m.f+'">':''}</td><td contenteditable onblur="merch[${i}].n=this.innerText;render()">${m.n}</td><td contenteditable onblur="merch[${i}].p=this.innerText;render()">${m.p}</td><td contenteditable onblur="merch[${i}].s=this.innerText;render()">${m.s}</td><td><button onclick="merch.splice(${i},1);render()">X</button></td></tr>`).join('');
 infoEstadio.innerHTML=`<p><b>${estadio.n||''}</b> ${estadio.c||''} Capacidad: ${estadio.cap||''}</p>`;
 let gasto=jugadores.reduce((t,j)=>t+Number(j.s||0),0);
 gastos.innerText=gasto+' €';
 presupuesto&& (presupuestoEl.innerText=presupuesto);
 balance.innerText=(presupuesto-gasto)+' €';
 localStorage.setItem('jugadores',JSON.stringify(jugadores));
 localStorage.setItem('partidos',JSON.stringify(partidos));
 localStorage.setItem('trofeos',JSON.stringify(trofeos));
 localStorage.setItem('socios',JSON.stringify(socios));
 localStorage.setItem('patro',JSON.stringify(patro));
 localStorage.setItem('entradas',JSON.stringify(entradas));
 localStorage.setItem('merch',JSON.stringify(merch));
 localStorage.setItem('estadio',JSON.stringify(estadio));
 localStorage.setItem('presupuesto',presupuesto);
 document.getElementById('presupuesto').innerText=presupuesto+' €';
}

function setPresupuesto(e){e.preventDefault();presupuesto=Number(pTotal.value);render();e.target.reset()}
function addJugador(e){e.preventDefault();img64(jf.files[0],img=>{jugadores.push({n:jn.value,p:jp.value,s:js.value,f:img});render();e.target.reset()})}
function addPartido(e){e.preventDefault();partidos.push({f:pf.value,r:pr.value,l:pl.value});render();e.target.reset()}
function addTrofeo(e){e.preventDefault();trofeos.push({a:ta.value,c:tc.value});render();e.target.reset()}
function addSocio(e){e.preventDefault();socios.push({n:sn.value,c:sc.value});render();e.target.reset()}
function addPatro(e){e.preventDefault();patro.push({n:pn.value,a:pa.value});render();e.target.reset()}
function addEntrada(e){e.preventDefault();entradas.push({n:en.value,p:ep.value,v:ev.value});render();e.target.reset()}
function addMerch(e){e.preventDefault();img64(mf.files[0],img=>{merch.push({n:mn.value,p:mp.value,s:ms.value,f:img});render();e.target.reset()})}
function saveEstadio(e){e.preventDefault();estadio={n:esn.value,c:esc.value,cap:escap.value};render()}

render();
</script>
<footer>
<p>FC Alameda · App local profesional</p>
</footer>
</body>
</html>



