<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>FC Alameda | App Local Completa</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:Arial;background:#eef2f7;color:#333}
header{background:linear-gradient(135deg,#0b5ed7,#083c8c);color:white;padding:25px;text-align:center}
nav{background:#083c8c;display:flex;flex-wrap:wrap;justify-content:center}
nav button{background:none;border:none;color:white;padding:15px 20px;font-size:15px;font-weight:bold;cursor:pointer}
nav button:hover{background:#0b5ed7}
section{display:none;padding:25px;max-width:1200px;margin:auto}
section.active{display:block}
h2{text-align:center;color:#0b5ed7}
table{width:100%;border-collapse:collapse;background:white;margin-top:15px;box-shadow:0 2px 8px rgba(0,0,0,0.1)}
th,td{border:1px solid #ccc;padding:8px;text-align:center}
th{background:#e9ecef}
form{background:white;padding:15px;margin-top:20px;box-shadow:0 2px 8px rgba(0,0,0,0.1)}
input,select,button{padding:8px;margin:5px}
button{background:#0b5ed7;color:white;border:none;cursor:pointer}
button:hover{background:#083c8c}
img{width:50px;height:50px;object-fit:cover;border-radius:50%}
footer{text-align:center;background:#083c8c;color:white;padding:15px;margin-top:30px}
</style>
</head>
<body>
<header>
<h1>FC Alameda</h1>
<p>App local editable (añadir, editar, eliminar y fotos)</p>
</header>
<nav>
<button onclick="mostrar('jugadores')">Jugadores</button>
<button onclick="mostrar('merch')">Merchandising</button>
</nav>

<section id="jugadores" class="active">
<h2>Jugadores</h2>
<table id="tablaJugadores"></table>
<form onsubmit="addJugador(event)">
<input id="jn" placeholder="Nombre" required>
<input id="jp" placeholder="Posición" required>
<input id="js" type="number" placeholder="Salario" required>
<input id="jf" type="file" accept="image/*">
<button>Añadir jugador</button>
</form>
</section>

<section id="merch">
<h2>Merchandising</h2>
<table id="tablaMerch"></table>
<form onsubmit="addMerch(event)">
<input id="mn" placeholder="Producto" required>
<input id="mp" type="number" placeholder="Precio" required>
<input id="ms" type="number" placeholder="Stock" required>
<input id="mf" type="file" accept="image/*">
<button>Añadir producto</button>
</form>
</section>

<script>
let jugadores=JSON.parse(localStorage.getItem('jugadores'))||[];
let merch=JSON.parse(localStorage.getItem('merch'))||[];

function mostrar(id){document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));document.getElementById(id).classList.add('active')}

function imgBase64(file,cb){if(!file){cb('');return;}let r=new FileReader();r.onload=e=>cb(e.target.result);r.readAsDataURL(file)}

function render(){
 tablaJugadores.innerHTML='<tr><th>Foto</th><th>Nombre</th><th>Posición</th><th>Salario</th><th>Acciones</th></tr>'+
 jugadores.map((j,i)=>`<tr><td>${j.f?'<img src="'+j.f+'">':''}</td><td contenteditable onblur="editJugador(${i},'n',this.innerText)">${j.n}</td><td contenteditable onblur="editJugador(${i},'p',this.innerText)">${j.p}</td><td contenteditable onblur="editJugador(${i},'s',this.innerText)">${j.s}</td><td><button onclick="delJugador(${i})">Eliminar</button></td></tr>`).join('');

 tablaMerch.innerHTML='<tr><th>Foto</th><th>Producto</th><th>Precio</th><th>Stock</th><th>Acciones</th></tr>'+
 merch.map((m,i)=>`<tr><td>${m.f?'<img src="'+m.f+'">':''}</td><td contenteditable onblur="editMerch(${i},'n',this.innerText)">${m.n}</td><td contenteditable onblur="editMerch(${i},'p',this.innerText)">${m.p}</td><td contenteditable onblur="editMerch(${i},'s',this.innerText)">${m.s}</td><td><button onclick="delMerch(${i})">Eliminar</button></td></tr>`).join('');

 localStorage.setItem('jugadores',JSON.stringify(jugadores));
 localStorage.setItem('merch',JSON.stringify(merch));
}

function addJugador(e){e.preventDefault();imgBase64(jf.files[0],img=>{jugadores.push({n:jn.value,p:jp.value,s:js.value,f:img});e.target.reset();render()})}
function editJugador(i,c,v){jugadores[i][c]=v;render()}
function delJugador(i){if(confirm('¿Eliminar jugador?')){jugadores.splice(i,1);render()}}

function addMerch(e){e.preventDefault();imgBase64(mf.files[0],img=>{merch.push({n:mn.value,p:mp.value,s:ms.value,f:img});e.target.reset();render()})}
function editMerch(i,c,v){merch[i][c]=v;render()}
function delMerch(i){if(confirm('¿Eliminar producto?')){merch.splice(i,1);render()}}

render();
</script>
<footer>
<p>© FC Alameda - App Local Completa</p>
</footer>
</body>
</html>


